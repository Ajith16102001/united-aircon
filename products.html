<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AC Products</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f8f9fa; }
    header {
        background: #0077b6; color: white; padding: 10px 20px;
        display: flex; justify-content: space-between; align-items: center;
    }
    header a {
        text-decoration: none; background: #ffffff; color: #0077b6;
        padding: 10px 18px; border-radius: 25px; font-weight: bold;
        box-shadow: 0 4px 6px rgba(0,0,0,0.2); transition: 0.3s;
    }
    header a:hover { transform: translateY(-1px); }
    .text { padding-right:110px; }
    .cart-icon { position: relative; cursor: pointer; font-size: 22px; }
    .cart-count {
        position: absolute; top: -8px; right: -10px; background: red; color: white;
        font-size: 12px; padding: 2px 6px; border-radius: 50%;
    }

    .filters {
        display: flex; gap: 10px; padding: 15px; background: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1); justify-content: center;
    }
    select { padding: 6px 10px; border-radius: 6px; border: 1px solid #cfd6df; }

    .products {
        display: grid; grid-template-columns: repeat(3, 1fr);
        gap: 15px; padding: 20px; max-width: 1100px; margin: 0 auto;
    }
    .product-card {
        background: white; padding: 15px; border-radius: 8px; text-align: center;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .product-card img {
        width: 100%; height: 150px; object-fit: cover; border-radius: 6px;
        margin-bottom: 10px;
    }
    .product-card h3 { font-size: 16px; margin: 8px 0 4px; }
    .product-card p { color: #0077b6; font-weight: bold; margin: 0 0 8px; }
    .product-card button {
        padding: 10px 14px; border: none; color: #fff; border-radius: 6px;
        cursor: pointer; font-weight: 700; letter-spacing: 0.2px;
        background: linear-gradient(90deg,#ff7eb3,#ff758c,#ff6a88);
        transition: transform .15s ease, filter .15s ease;
    }
    .product-card button:hover { transform: translateY(-1px); filter: brightness(1.05); }

    /* Cart Sidebar */
    .cart-sidebar {
        position: fixed; top: 0; right: -350px; width: 350px; height: 100%;
        background: #fff; box-shadow: -2px 0 8px rgba(0,0,0,0.2);
        transition: right 0.3s ease; display: flex; flex-direction: column; z-index: 999;
    }
    .cart-sidebar.active { right: 0; }
    .cart-header {
        padding: 15px; background: #0077b6; color: white;
        display: flex; justify-content: space-between; align-items: center;
    }
    .cart-header button {
        background: transparent; border: none; color: #fff; font-size: 18px; cursor: pointer;
    }
    .cart-items { flex: 1; overflow-y: auto; padding: 12px; }
    .cart-item {
        display: flex; align-items: center; gap: 10px;
        border-bottom: 1px solid #eee; padding: 10px 0;
    }
    .cart-item img {
        width: 50px; height: 50px; object-fit: cover; border-radius: 4px;
    }
    .item-info { flex: 1; }
    .item-title { font-weight: 700; font-size: 14px; margin-bottom: 4px; }
    .price-line { font-size: 13px; color: #444; margin-bottom: 6px; }
    .qty-controls { display: flex; align-items: center; gap: 6px; }
    .qty-controls button {
        padding: 2px 8px; border: none; background: #0077b6; color: white;
        cursor: pointer; border-radius: 4px; font-weight: 700;
    }
    .remove-btn {
        background: #ff4d4f; padding: 4px 8px; border: none; color: white;
        cursor: pointer; border-radius: 4px; font-size: 12px;
    }
    .cart-footer {
        padding: 12px; border-top: 1px solid #ddd; background: #f8f9fa;
        display: flex; flex-direction: column; gap: 10px;
    }
    .place-order-btn {
        padding: 10px; background: linear-gradient(45deg,#00c853,#00e676);
        border: none; color: #fff; font-weight: bold; border-radius: 6px; cursor: pointer;
        transition: transform .15s ease, filter .15s ease;
    }
    .place-order-btn:hover { transform: translateY(-1px); filter: brightness(1.05); }
    .total-line { font-weight: 800; font-size: 16px; }

    /* Popup top center */
    .popup {
        position: fixed; top: 16px; left: 50%; transform: translateX(-50%);
        background: #ff4d4d; color: white; padding: 10px 16px; border-radius: 6px;
        display: none; z-index: 1000; font-weight: 700; box-shadow: 0 8px 20px rgba(0,0,0,.2);
    }

    /* Responsive (keeps structure but adapts on small screens) */
    @media (max-width: 900px) {
        .products { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px) {
        .products { grid-template-columns: 1fr; }
        .text { padding-right: 0; }
    }
</style>
</head>
<body>

<header>
    <a href="index.html">üè† Home</a>
    <h2 class="text">AC Products</h2>
    <div class="cart-icon" onclick="toggleCart()">
        üõí <span class="cart-count" id="cartCount">0</span>
    </div>
</header>

<div class="filters">
    <select id="brandFilter" onchange="filterProducts()">
        <option value="">All Brands</option>
        <option value="Samsung">Samsung</option>
        <option value="LG">LG</option>
        <option value="Voltas">Voltas</option>
    </select>
    <select id="tonFilter" onchange="filterProducts()">
        <option value="">All Tons</option>
        <option value="1">1 Ton</option>
        <option value="1.5">1.5 Ton</option>
        <option value="2">2 Ton</option>
    </select>
</div>

<div class="products" id="productList"></div>

<!-- Cart Sidebar -->
<div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
        <span>Your Cart</span>
        <button onclick="toggleCart()">‚úñ</button>
    </div>
    <div class="cart-items" id="cartItems"></div>
    <div class="cart-footer">
        <button class="place-order-btn" onclick="placeOrder()">Place Order</button>
        <div class="total-line">Total: ‚Çπ<span id="totalPrice">0</span></div>
    </div>
</div>

<div class="popup" id="popupMsg">This product is already in the cart!</div>
<script>
    // --- Data ---
    const products = [
        {id: 1, name: "Samsung 1 Ton AC", price: 25000, brand: "Samsung", ton: "1",   img: "pictures/samsung1ton.jpg"},
        {id: 2, name: "LG 1.5 Ton AC",    price: 30000, brand: "LG",       ton: "1.5", img: "pictures/lg1.5ton.jpg"},
        {id: 3, name: "Voltas 2 Ton AC",  price: 35000, brand: "Voltas",   ton: "2",   img: "pictures/voltas2ton.jpg"},
        {id: 4, name: "Samsung 1.5 Ton AC", price: 32000, brand: "Samsung", ton: "1.5", img: "pictures/samsung1.5ton.jpg"},
        {id: 5, name: "LG 1 Ton AC",      price: 27000, brand: "LG",       ton: "1",   img: "pictures/lg1ton.jpg"},
        {id: 6, name: "Voltas 1.5 Ton AC",price: 31000, brand: "Voltas",   ton: "1.5", img: "pictures/voltas1.5ton.jpg"},
    ];
    let cart = [];
    let isLoggedIn = false; // Simulating login status

    // --- Render Products ---
    function renderProducts(list = products) {
        const container = document.getElementById("productList");
        container.innerHTML = list.map(p => `
            <div class="product-card">
                <img src="${p.img}" alt="${p.name}">
                <h3>${p.name}</h3>
                <p>‚Çπ${p.price}</p>
                <button onclick="addToCart(${p.id})">Add to Cart</button>
            </div>
        `).join("");
    }

    // --- Filters ---
    function filterProducts() {
        const brand = document.getElementById("brandFilter").value;
        const ton = document.getElementById("tonFilter").value;
        const filtered = products.filter(p =>
            (brand === "" || p.brand === brand) &&
            (ton === "" || p.ton === ton)
        );
        renderProducts(filtered);
    }

    // --- Cart logic ---
    function addToCart(id) {
        const exists = cart.find(i => i.id === id);
        if (exists) { showPopup("This product is already in the cart!"); return; }
        const product = products.find(p => p.id === id);
        cart.push({...product, qty: 1});
        updateCart();
    }

    function changeQty(id, delta) {
        const item = cart.find(i => i.id === id);
        if (!item) return;
        if (delta === -1 && item.qty === 1) return;
        item.qty += delta;
        updateCart();
    }

    function removeFromCart(id) {
        cart = cart.filter(i => i.id !== id);
        updateCart();
    }

    function updateCart() {
        const list = document.getElementById("cartItems");
        let total = 0;
        list.innerHTML = cart.map(item => {
            const line = item.price * item.qty;
            total += line;
            return `
                <div class="cart-item">
                    <img src="${item.img}" alt="${item.name}">
                    <div class="item-info">
                        <div class="item-title">${item.name} √ó ${item.qty}</div>
                        <div class="price-line">‚Çπ${item.price} √ó ${item.qty} = ‚Çπ${line}</div>
                        <div class="qty-controls">
                            <button onclick="changeQty(${item.id}, -1)">‚àí</button>
                            <span>${item.qty}</span>
                            <button onclick="changeQty(${item.id}, 1)">+</button>
                        </div>
                    </div>
                    <button class="remove-btn" onclick="removeFromCart(${item.id})">Remove</button>
                </div>
            `;
        }).join("");

        document.getElementById("totalPrice").textContent = total;
        document.getElementById("cartCount").textContent = cart.length;
    }

    function toggleCart() {
        document.getElementById("cartSidebar").classList.toggle("active");
    }

    function showPopup(msg) {
        const popup = document.getElementById("popupMsg");
        popup.textContent = msg || "This product is already in the cart!";
        popup.style.display = "block";
        setTimeout(() => popup.style.display = "none", 1800);
    }

    // --- Place Order logic ---
    function placeOrder() {
        if (cart.length === 0) {
            showPopup("Your cart is empty!");
            return;
        }

        if (!isLoggedIn) {
            if (confirm("Please login to place your order.")) {
                window.location.href = "login.html"; // Change to your login page URL
            }
            return;
        }

        alert("Order placed successfully!");
        cart = [];
        updateCart();
        toggleCart();
    }

    // Initial render
    renderProducts();
</script>


</body>
</html>
